<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Fit Foods - Custom Meal Plan Quiz</title>
    
    <!-- React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        #root {
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { 
            ChevronRight, Check, MapPin, Target, TrendingUp, Utensils, 
            Shield, Users, ShoppingBag, Mail, Phone, X, Star, Lock, 
            Timer, Award, Zap, ThumbsUp, Clock 
        } = lucide;

        function MyFitFoodsFunnel() {
          const [step, setStep] = useState(0);
          const [formData, setFormData] = useState({
            zipCode: '',
            goal: '',
            obstacle: '',
            proteins: [],
            avoidances: [],
            whoEating: '',
            mealPlan: '',
            email: '',
            phone: '',
            selectedMeals: []
          });
          const [isServiceable, setIsServiceable] = useState(null);
          const [timeLeft, setTimeLeft] = useState(900);
          const [activePeople, setActivePeople] = useState(47);

          useEffect(() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }, [step]);

          useEffect(() => {
            const timer = setInterval(() => {
              setTimeLeft(prev => Math.max(0, prev - 1));
            }, 1000);
            return () => clearInterval(timer);
          }, []);

          useEffect(() => {
            const peopleTimer = setInterval(() => {
              setActivePeople(prev => 43 + Math.floor(Math.random() * 8));
            }, 5000);
            return () => clearInterval(peopleTimer);
          }, []);

          const formatTime = (seconds) => {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
          };

          const updateFormData = (field, value) => {
            setFormData(prev => ({ ...prev, [field]: value }));
          };

          const handleNext = () => setStep(prev => prev + 1);
          const handleBack = () => setStep(prev => prev - 1);

          const checkZipCode = (zip) => {
            const serviceableZips = ['77', '78', '79', '75', '80', '97'];
            const isInArea = serviceableZips.some(prefix => zip.startsWith(prefix));
            setIsServiceable(isInArea);
            return isInArea;
          };

          const meals = [
            { id: 1, name: "Grilled Chicken & Sweet Potato", protein: 42, calories: 420, tags: ["chicken", "comfort"], image: "üçó", popular: true },
            { id: 2, name: "Beef Taco Bowl", protein: 38, calories: 450, tags: ["beef", "tex-mex"], image: "üåÆ", popular: true },
            { id: 3, name: "Salmon & Asparagus", protein: 40, calories: 380, tags: ["seafood", "light"], image: "üêü" },
            { id: 4, name: "Turkey Meatballs", protein: 35, calories: 410, tags: ["chicken", "italian"], image: "üçù" },
            { id: 5, name: "Breakfast Power Bowl", protein: 32, calories: 390, tags: ["eggs", "breakfast"], image: "üç≥", popular: true },
            { id: 6, name: "Bison Burger Bowl", protein: 45, calories: 460, tags: ["beef", "comfort"], image: "üçî" },
            { id: 7, name: "Shrimp Stir Fry", protein: 36, calories: 370, tags: ["seafood", "asian"], image: "üç§" },
            { id: 8, name: "Chicken Fajita Bowl", protein: 40, calories: 425, tags: ["chicken", "tex-mex"], image: "üåØ", popular: true },
            { id: 9, name: "Turkey Quinoa Bowl", protein: 38, calories: 400, tags: ["chicken", "healthy"], image: "ü•ó" },
            { id: 10, name: "Beef & Broccoli", protein: 41, calories: 440, tags: ["beef", "asian"], image: "ü•¶" },
            { id: 11, name: "Garlic Shrimp Zoodles", protein: 34, calories: 360, tags: ["seafood", "light"], image: "ü¶ê" },
            { id: 12, name: "Chicken Teriyaki", protein: 39, calories: 430, tags: ["chicken", "asian"], image: "üç±" },
            { id: 13, name: "Steak & Eggs", protein: 44, calories: 470, tags: ["beef", "eggs", "breakfast"], image: "ü•©" },
            { id: 14, name: "Grilled Salmon Bowl", protein: 42, calories: 395, tags: ["seafood", "healthy"], image: "üê†" },
            { id: 15, name: "BBQ Chicken", protein: 37, calories: 415, tags: ["chicken", "comfort"], image: "üçó" },
            { id: 16, name: "Turkey Chili", protein: 36, calories: 385, tags: ["chicken", "comfort"], image: "üå∂Ô∏è" },
          ];

          useEffect(() => {
            if (step === 9 && formData.selectedMeals.length === 0) {
              const mealCount = 
                formData.mealPlan === 'starter' ? 10 :
                formData.mealPlan === 'results' ? 15 :
                formData.mealPlan === 'commit' ? 20 :
                formData.mealPlan === 'shared' ? 30 : 45;
              
              let filteredMeals = meals.filter(meal => {
                const matchesProtein = formData.proteins.length === 0 || 
                  formData.proteins.some(pref => meal.tags.includes(pref)) ||
                  formData.proteins.includes('any');
                
                const matchesAvoidances = !formData.avoidances.some(avoid => {
                  if (avoid.includes('No beef')) return meal.tags.includes('beef');
                  if (avoid.includes('No seafood')) return meal.tags.includes('seafood');
                  if (avoid.includes('No pork')) return meal.tags.includes('pork');
                  return false;
                });
                
                return matchesProtein && matchesAvoidances;
              });
              
              if (filteredMeals.length < mealCount) {
                filteredMeals = [...filteredMeals, ...meals.filter(m => !filteredMeals.includes(m))];
              }
              
              const selectedIds = filteredMeals.slice(0, mealCount).map(m => m.id);
              updateFormData('selectedMeals', selectedIds);
            }
          }, [step]);

          const transformations = [
            { name: "Maddie", lost: "231 lbs", fatLoss: "36%", image: "üë©", rating: 5 },
            { name: "Blake", lost: "20 lbs fat", gained: "20 lbs muscle", fatLoss: "10.6%", image: "üßî", rating: 5 },
            { name: "Bethany", lost: "83 lbs", quote: "I've gained so much mental clarity", image: "üë©‚Äçü¶∞", rating: 5 },
            { name: "Jamil", lost: "106 lbs", fatLoss: "26%", image: "üßë", rating: 5 },
          ];

          return (
            <div className="min-h-screen bg-[#F5F3EE] font-sans">
              <style>{`
                @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');
                
                * { font-family: 'Plus Jakarta Sans', sans-serif; }
                .font-display { font-family: 'Playfair Display', serif; }
                
                @keyframes fadeInUp {
                  from { opacity: 0; transform: translateY(30px); }
                  to { opacity: 1; transform: translateY(0); }
                }
                
                @keyframes slideInRight {
                  from { opacity: 0; transform: translateX(-20px); }
                  to { opacity: 1; transform: translateX(0); }
                }
                
                @keyframes pulse {
                  0%, 100% { opacity: 1; }
                  50% { opacity: 0.7; }
                }
                
                .animate-fadeInUp { animation: fadeInUp 0.6s ease-out forwards; }
                .animate-slideInRight { animation: slideInRight 0.5s ease-out forwards; }
                .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
                
                .stagger-1 { animation-delay: 0.1s; }
                .stagger-2 { animation-delay: 0.2s; }
                .stagger-3 { animation-delay: 0.3s; }
                .stagger-4 { animation-delay: 0.4s; }
                
                .btn-primary {
                  background: #6B7B5E;
                  transition: all 0.3s ease;
                  position: relative;
                  overflow: hidden;
                }
                
                .btn-primary:before {
                  content: '';
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  width: 0;
                  height: 0;
                  border-radius: 50%;
                  background: rgba(255, 255, 255, 0.2);
                  transform: translate(-50%, -50%);
                  transition: width 0.6s, height 0.6s;
                }
                
                .btn-primary:hover:before {
                  width: 300px;
                  height: 300px;
                }
                
                .btn-primary:hover {
                  background: #5A6A4D;
                  transform: translateY(-2px);
                  box-shadow: 0 12px 24px rgba(107, 123, 94, 0.3);
                }
                
                .card-hover {
                  transition: all 0.3s ease;
                  cursor: pointer;
                }
                
                .card-hover:hover {
                  transform: translateY(-4px);
                  box-shadow: 0 16px 32px rgba(0, 0, 0, 0.12);
                }
                
                .progress-bar {
                  background: linear-gradient(90deg, #6B7B5E 0%, #8B9B7E ${(step / 10) * 100}%);
                  transition: all 0.5s ease;
                }
                
                .line-clamp-2 {
                  display: -webkit-box;
                  -webkit-line-clamp: 2;
                  -webkit-box-orient: vertical;
                  overflow: hidden;
                }
                
                @media (max-width: 768px) {
                  .meal-card-mobile { font-size: 0.875rem; }
                  .meal-card-mobile .meal-emoji { font-size: 2.5rem; }
                }
              `}</style>

              {step > 0 && (
                <div className="fixed top-0 left-0 w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-2 px-4 z-50 text-center text-sm font-semibold">
                  <div className="flex items-center justify-center gap-2 flex-wrap">
                    <Timer size={16} />
                    <span>40% OFF expires in {formatTime(timeLeft)}</span>
                    <span className="hidden sm:inline">‚Ä¢</span>
                    <span className="flex items-center gap-1">
                      <span className="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                      {activePeople} people claiming this offer now
                    </span>
                  </div>
                </div>
              )}

              {step > 0 && (
                <div className="fixed top-10 left-0 w-full h-1.5 bg-[#E5E3DE] z-40">
                  <div className="progress-bar h-full" style={{ width: `${(step / 10) * 100}%` }} />
                </div>
              )}

              {/* Step 0: Hero - Simplified for demo */}
              {step === 0 && (
                <div className="min-h-screen flex items-center justify-center px-4 py-12">
                  <div className="max-w-5xl w-full">
                    <div className="text-center space-y-6 animate-fadeInUp">
                      <div className="flex items-center justify-center gap-2 text-sm text-gray-600 mb-2">
                        <div className="flex -space-x-2">
                          {['üë®', 'üë©', 'üßî', 'üë©‚Äçü¶∞'].map((emoji, i) => (
                            <div key={i} className="w-8 h-8 rounded-full bg-[#6B7B5E] flex items-center justify-center border-2 border-white">
                              <span className="text-xs">{emoji}</span>
                            </div>
                          ))}
                        </div>
                        <span className="font-semibold">Join 15,000+ people who transformed their health</span>
                      </div>

                      <div className="inline-block bg-gradient-to-r from-red-600 to-orange-600 text-white px-8 py-3 rounded-full text-base font-bold tracking-wide mb-4 animate-pulse">
                        ‚ö° LIMITED TIME: 40% OFF YOUR FIRST ORDER
                      </div>
                      
                      <h1 className="font-display text-4xl sm:text-5xl md:text-7xl text-gray-800 leading-tight" style={{fontFamily: "'Playfair Display', serif"}}>
                        Get a Custom Eating Plan<br />
                        <span className="text-[#6B7B5E]">Tailored To Your Goals</span>
                      </h1>
                      
                      <p className="text-lg sm:text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto font-medium">
                        Answer 6 quick questions and get access to <span className="font-bold text-[#6B7B5E]">40g+ protein</span> meals for as low as <span className="font-bold text-green-600">$6.75 each!</span>
                      </p>
                      
                      <div className="flex flex-wrap justify-center gap-3 sm:gap-6 text-xs sm:text-sm font-semibold text-gray-600 mt-6">
                        {[
                          { icon: Check, text: 'Fresh Daily' },
                          { icon: Zap, text: '40g+ Protein' },
                          { icon: Shield, text: 'Never Frozen' },
                          { icon: Award, text: 'No Seed Oils' }
                        ].map((item, i) => (
                          <div key={i} className="flex items-center gap-2 bg-white px-3 sm:px-4 py-2 rounded-full shadow-sm">
                            <item.icon size={16} className="text-[#6B7B5E]" />
                            <span>{item.text}</span>
                          </div>
                        ))}
                      </div>

                      <div className="bg-white rounded-2xl p-6 max-w-2xl mx-auto shadow-lg">
                        <div className="flex items-center justify-center gap-1 mb-2">
                          {[...Array(5)].map((_, i) => (
                            <Star key={i} size={20} fill="#FCD34D" color="#FCD34D" />
                          ))}
                          <span className="ml-2 text-sm font-bold text-gray-800">4.9/5 from 3,247 reviews</span>
                        </div>
                        <p className="text-sm text-gray-600 italic">"Life-changing meals. Lost 40 lbs in 3 months!" - Sarah M.</p>
                      </div>
                      
                      <button
                        onClick={handleNext}
                        className="btn-primary text-white px-10 sm:px-16 py-4 sm:py-5 rounded-full text-base sm:text-lg font-bold inline-flex items-center gap-3 mt-6 shadow-xl"
                      >
                        Get My Custom Plan Now
                        <ChevronRight size={20} />
                      </button>

                      <p className="text-xs text-gray-600 mt-4">‚è±Ô∏è Takes only 60 seconds ‚Ä¢ üîí No credit card required</p>
                    </div>
                  </div>
                </div>
              )}

              {/* Additional steps would go here - this is a demo showing the hero page */}
              {step > 0 && step < 10 && (
                <div className="min-h-screen flex items-center justify-center px-4 py-16">
                  <div className="max-w-2xl w-full text-center">
                    <h2 className="text-3xl font-bold text-gray-800 mb-4">Step {step} of 10</h2>
                    <p className="text-gray-600 mb-8">This is a demo preview. The full funnel includes all 10 steps with the complete meal selection interface.</p>
                    <div className="flex gap-4 justify-center">
                      <button
                        onClick={handleBack}
                        className="bg-white text-[#6B7B5E] border-2 border-[#6B7B5E] px-8 py-3 rounded-full font-semibold hover:bg-gray-50"
                      >
                        ‚Üê Back
                      </button>
                      <button
                        onClick={handleNext}
                        className="btn-primary text-white px-8 py-3 rounded-full font-bold"
                      >
                        Continue ‚Üí
                      </button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        }

        // Render the component
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MyFitFoodsFunnel />);

        // Initialize Lucide icons
        lucide.createIcons();
    </script>
</body>
</html>
